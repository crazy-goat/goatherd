# Contributor:
# Maintainer:
pkgname=goatherd
pkgver=0.3.0
pkgrel=0
pkgdesc="PHP laod balancer and proces manager"
url="https://github.com/crazy-goat/goatherd"
arch="all"
license="MIT"
depends=""
makedepends="linux-headers cmake python-dev wget"
install=""
subpackages=""
source="${pkgname}-${pkgver}.tar.gz::https://github.com/crazy-goat/$pkgname/archive/v$pkgver.tar.gz"
builddir="$srcdir/${pkgname}-${pkgver}"

build() {
	cd "$builddir"
    cmake -DCMAKE_BUILD_TYPE=Release -DUSE_INTERNAL_BOOST=ON -DCMAKE_INSTALL_PREFIX:PATH=/usr .
    make -j4
}

check() {
	cd "$builddir"
#    ./goatherd || return 1
}

package() {
	cd "$builddir"
    make DESTDIR="$pkgdir" install || return 1
}

sha512sums="f933a5af19878e91a6d85a7fb71bdea8463b8d775ed3ee8dc5b615ce43bbd13fb0fe866a64a5d6079350fe7cd37849ea00251bf19de6935f2f0008575141e0ef  goatherd-0.3.0.tar.gz"
